<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oasis Star</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>

  <body>
    <header>
      <h1>Oasis Star</h1>
      <div class="auth-buttons" id="authButtons">
        <button onclick="showSection('login')">Login</button>
        <button onclick="showSection('register')">Register</button>
      </div>
      <div class="auth-buttons" id="userInfo" style="display: none">
        <span class="welcome-message" id="welcomeMessage"></span>
        <button onclick="logout()">Logout</button>
      </div>
    </header>
    <div class="container">
      <nav>
        <ul>
          <li><a onclick="showSection('home')">Home</a></li>
          <li><a onclick="showSection('encrypt')">Encrypt</a></li>
          <li><a onclick="showSection('decrypt')">Decrypt</a></li>
          <li><a onclick="showSection('check-files')">Check My Files</a></li>
          <li><a onclick="showSection('about')">About</a></li>
        </ul>
      </nav>
      <main id="mainContent">
        <div id="home" class="content-section active">
          <div class="text-left-top">
            <h2>Welcome to Oasis Star</h2>
            <p>å¯†ç¢¼å·¥ç¨‹æœŸæœ«å°ˆé¡Œ</p>
            <p>Please select a function from the sidebar on the left.</p>
          </div>
        </div>
        <div id="encrypt" class="content-section">
          <div class="text-left-top">
            <h2>Encrypt Files</h2>
          </div>
          <div id="encryptContent">
            <div class="algorithm-selector">
              <label for="algorithmSelect">Encryption Algorithm:</label>
              <select id="algorithmSelect">
                <option value="AES">AES</option>
                <option value="ChaCha">ChaCha20</option>
              </select>
            </div>
            <div class="drop-area" id="dropArea">
              <p>Drag and drop your files here to encrypt</p>
            </div>
            <div class="file-list" id="fileList"></div>
            <div class="user-container">
              <div class="search-user">
                <div class="input-container">
                  <input
                    type="text"
                    id="userSearchInput"
                    placeholder="Search for Sharing Partners..."
                  />
                  <ul id="userSuggestions"></ul>
                </div>
                <button onclick="addUser()">JOIN</button>
              </div>

              <div class="added-users-container">
                <h3>Joined Partners</h3>
                <div class="added-users-list">
                  <ul id="addedUsers"></ul>
                </div>
              </div>
            </div>
            <button
              class="encrypt-button"
              id="encryptButton"
              style="display: none"
            >
              Encrypt ğŸ”
            </button>
            <button
              class="upload-button"
              id="uploadButton"
              style="display: none"
            >
              Upload â˜ï¸
            </button>
          </div>
          <div
            class="login-prompt"
            id="encryptLoginPrompt"
            style="display: none"
          >
            è«‹å…ˆç™»å…¥ï¼
          </div>
        </div>
        <div id="decrypt" class="content-section">
          <div class="text-left-top">
            <h2>Decrypt Files</h2>
          </div>
          <div id="decryptContent">
            <div class="drop-area" id="decryptDropArea">
              <p>
                Drag and drop your encrypted files and certificate here to
                decrypt
              </p>
            </div>
            <div class="file-list" id="decryptFileList"></div>
            <button
              class="upload-button"
              id="decryptButton"
              style="display: none"
            >
              Decrypt
            </button>
          </div>
          <div
            class="login-prompt"
            id="decryptLoginPrompt"
            style="display: none"
          >
            è«‹å…ˆç™»å…¥ï¼
          </div>
        </div>
        <div id="check-files" class="content-section">
          <div class="text-left-top">
            <h2>Check My Files</h2>
          </div>
          <div id="checkFilesContent">
            <div class="file-list-container" id="fileListContainer">
              <!-- æª”æ¡ˆåˆ—è¡¨å°‡åœ¨é€™è£¡é¡¯ç¤º -->
            </div>
          </div>
          <div
            class="login-prompt"
            id="checkFilesLoginPrompt"
            style="display: none"
          >
            è«‹å…ˆç™»å…¥ï¼
          </div>
        </div>
        <div id="about" class="content-section">
          <div class="text-left-top">
            <h2>About Us</h2>
            <p>ä½œè€…ï¼š è¨±äºè»’ éƒ­æœæ© é„­äººå‚‘</p>
            <p>é€™æ˜¯ä¸€å€‹å¯ä»¥è®“ä½¿ç”¨è€…ç·šä¸ŠåŠ è§£å¯†æª”æ¡ˆçš„ç¶²ç«™ï¼Œ</p>
            <p>ä½¿ç”¨è€…åŠ å¯†å®Œæª”æ¡ˆä¹‹å¾Œæœƒç”¢ç”Ÿcertificateï¼Œ</p>
            <p>æ¥æ”¶åˆ°æª”æ¡ˆçš„æ”¶ä»¶è€…å¯ä»¥æ‹¿æª”æ¡ˆå’Œcertificateä¾†ç¶²ç«™ä¸Šè§£å¯†ï¼Œ</p>
            <p>å¾—åˆ°åŸå§‹çš„æª”æ¡ˆã€‚</p>
          </div>
        </div>
        <div id="login" class="content-section">
          <div class="form-container">
            <h2>Login</h2>
            <form id="loginForm">
              <div class="form-group">
                <label for="login-username">Username:</label>
                <input
                  type="text"
                  id="login-username"
                  name="login-username"
                  required
                />
              </div>
              <div class="form-group">
                <label for="login-password">Password:</label>
                <input
                  type="password"
                  id="login-password"
                  name="login-password"
                  required
                />
              </div>
              <div class="form-group">
                <label for="login-otp">Two-Factor Code:</label>
                <input type="text" id="login-otp" name="login-otp" required />
              </div>
              <button type="submit">Login</button>
              <div id="login-error" class="error"></div>
            </form>
            <div class="register-link">
              Don't have an account?
              <a onclick="showSection('register')">Register</a>
            </div>
          </div>
        </div>
        <div id="register" class="content-section">
          <div class="form-container">
            <h2>Register</h2>
            <form id="registerForm">
              <div class="form-group">
                <label for="register-email">Email:</label>
                <input
                  type="email"
                  id="register-email"
                  name="register-email"
                  required
                />
              </div>
              <div class="form-group">
                <label for="register-username">Username:</label>
                <input
                  type="text"
                  id="register-username"
                  name="register-username"
                  required
                />
              </div>
              <div class="form-group">
                <label for="register-password">Password:</label>
                <input
                  type="password"
                  id="register-password"
                  name="register-password"
                  required
                />
              </div>
              <div class="form-group">
                <label for="register-confirm-password">Confirm Password:</label>
                <input
                  type="password"
                  id="register-confirm-password"
                  name="register-confirm-password"
                  required
                />
                <div id="register-password-error" class="error"></div>
              </div>
              <button type="submit" id="register-submit" disabled>
                Submit
              </button>
              <div id="register-error" class="error"></div>
              <div id="qr-code" class="qr-code" style="display: none">
                <p>Scan this QR Code with Google Authenticator:</p>
                <img id="qr-code-img" src="" alt="QR Code" />
              </div>
              <div class="login-link">
                Already have an account?
                <a onclick="showSection('login')">Login</a>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>

    <p id="responseText"></p>

    <script src="/static/script.js"></script>
  </body>
</html>
